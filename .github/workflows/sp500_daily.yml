name: SP500 Daily Tracker

on:
  schedule:
    # 台灣時間早上 6:00 (UTC 22:00)
    - cron: '0 22 * * 1-5'
  workflow_dispatch: 

jobs:
  run-tracker:
    run: ubuntu-latest


        python-version: '3.10'

    - name: Install dependencies
      # --- 修改重點：加入了 deep-translator ---
      run: |
        python -m pip install --upgrade pip
        pip install yfinance pandas matplotlib requests lxml deep-translator

    - name: Run S&P 500 Tracker
      env:
        DISCORD_WEBHOOK_URL: ${{ secrets.DISCORD_WEBHOOK_URL }}
